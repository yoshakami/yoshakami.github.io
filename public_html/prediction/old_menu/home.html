<!DOCTYPE html>
<html lang="en">
<head>
    <title>Yoshi's web storage</title>
    <link rel="stylesheet" href="yoshi-web-store.css">
    <meta charset="utf-8">
</head>

<body>
    <h1><a href="/predictions">Predictions</a></h1>
    <h1><a href="/upload">upload files (admin only)</a></h1>
<footer id="footer-protocol">
    <p class="https-available-text">this website is also available on https!</p>
    <button class="https-button" onclick="use_https()">use https ✅</button>
    <button class="http-button" onclick="use_http()">use http (insecure) ❌</button>
</footer>
<script type="text/javascript">
window.location.href = "/predictions";
</script>
<script type="text/javascript">
    if (window.location.pathname === "/index.html")
    {
        window.location.href = "";
    }
    let protocol = getCookie("protocol");
    if (protocol !== "")
    {
        document.getElementById("footer-protocol").style.display = "none";
        if (window.location.protocol === "http:" && getCookie("protocol") === "https")
        {
            window.location.protocol = "https:";
        }
        if (window.location.protocol === "https:" && getCookie("protocol") === "http")
        {
            window.location.protocol = "http:";
        }
    }
    function getCookie(cname) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for(let i = 0; i <ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) === ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) === 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }
    function use_https() {
        document.cookie = "protocol=https;expires=Fri, 18 Dec 2099 12:00:00 UTC";
        document.getElementById("footer-protocol").style.display = "none";
        if (window.location.protocol === "http:")
        {
            window.location.protocol = "https:";
        }
    }
    function use_http() {
        document.cookie = "protocol=http;expires=Fri, 18 Dec 2099 12:00:00 UTC";
        document.getElementById("footer-protocol").style.display = "none";
        if (window.location.protocol === "https:")
        {
            window.location.protocol = "http:";
        }
    }
</script>
<p>it looks like this page is empty, at least, for now....</p>
</body>
</html>